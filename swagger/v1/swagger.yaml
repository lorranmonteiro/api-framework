---
openapi: 3.0.1
info:
  title: Documentação API REST
  version: v1
  description: Esta é a documentação da API REST para o Trabalho de Conclusão de Curso
    (TCC), voltado para análise de proposta de padrão de projeto de software. A API
    oferece endpoints para gerenciar recursos relacionados ao sistema desenvolvido,
    permitindo operações CRUD e outras funcionalidades essenciais, seguindo as melhores
    práticas de desenvolvimento de software.
paths:
  "/api/v1/customers":
    get:
      summary: Lista todos os clientes
      tags:
      - Customers
      responses:
        '200':
          description: Clientes encontrados
          content:
            application/json:
              examples:
                example_0:
                  value:
                  - id: 1
                    name: João Victor
                    email: joao.victor@example.com
                    phone: '85999999999'
                    created_at: '2025-12-08T15:10:17.073Z'
                    updated_at: '2025-12-08T15:10:17.073Z'
                  - id: 2
                    name: Ana Maria
                    email: ana.maria@example.com
                    phone: '85988888888'
                    created_at: '2025-12-08T15:12:20.123Z'
                    updated_at: '2025-12-08T15:12:20.123Z'
              schema:
                type: array
                items:
                  "$ref": "#/components/schemas/Customer"
    post:
      summary: Cria um novo cliente
      tags:
      - Customers
      parameters: []
      responses:
        '201':
          description: Cliente criado
          content:
            application/json:
              examples:
                example_0:
                  value:
                    id: 1
                    name: Ana Maria
                    email: ana.maria@example.com
                    phone: '85999999999'
                    created_at: '2025-12-08T15:10:17.073Z'
                    updated_at: '2025-12-08T15:10:17.073Z'
              schema:
                "$ref": "#/components/schemas/Customer"
        '422':
          description: Atualização inválida
          content:
            application/json:
              examples:
                example_0:
                  value:
                    message: Email can't be blank
                    internalErrorCode: E4
                    errorType: VALIDATION_ERROR
                    requestDetails:
                      occurredAt: '2025-01-01T12:00:00Z'
                      requestId: c8f8c9c2-9dcb-4e9b-b5c2-123456789abc
                      path: "/api/v1/customers"
                    additionalErrors: []
              schema:
                "$ref": "#/components/schemas/ErrorResponse"
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: Ana Maria
                email:
                  type: string
                  example: ana.maria@example.com
                phone:
                  type: string
                  example: '85999999999'
              required:
              - name
              - email
              example:
                name: Ana Maria
                email: ana.maria@example.com
                phone: '85999999999'
  "/api/v1/customers/{id}":
    parameters:
    - name: id
      in: path
      description: ID do cliente
      example: 1
      required: true
      schema:
        type: integer
    get:
      summary: Informações do cliente
      tags:
      - Customers
      responses:
        '200':
          description: Cliente encontrado
          content:
            application/json:
              examples:
                example_0:
                  value:
                    id: '1'
                    name: Ana Maria
                    email: ana.maria@example.com
                    phone: '85988888888'
                    created_at: '2025-12-08T15:10:17.073Z'
                    updated_at: '2025-12-08T15:10:17.073Z'
              schema:
                "$ref": "#/components/schemas/Customer"
        '404':
          description: Cliente não encontrado
          content:
            application/json:
              examples:
                example_0:
                  value:
                    message: Customer not found
                    internalErrorCode: E10
                    errorType: NOT_FOUND_ERROR
                    requestDetails:
                      occurredAt: '2025-01-01T12:00:00Z'
                      requestId: c8f8c9c2-9dcb-4e9b-b5c2-123456789abc
                      path: "/api/v1/customers/99999"
                    additionalErrors: []
              schema:
                "$ref": "#/components/schemas/ErrorResponse"
    patch:
      summary: Atualiza parcialmente o cliente
      tags:
      - Customers
      parameters: []
      responses:
        '200':
          description: Cliente atualizado
          content:
            application/json:
              examples:
                example_0:
                  value:
                    id: 1
                    name: Jorge Campos
                    email: ana.maria@example.com
                    phone: '85988888888'
                    created_at: '2025-12-08T15:10:17.073Z'
                    updated_at: '2025-12-08T15:10:17.073Z'
              schema:
                "$ref": "#/components/schemas/Customer"
        '422':
          description: Atualização inválida
          content:
            application/json:
              examples:
                example_0:
                  value:
                    message: Name can't be blank
                    internalErrorCode: E89
                    errorType: VALIDATION_ERROR
                    requestDetails:
                      occurredAt: '2025-01-01T12:00:00Z'
                      requestId: c8f8c9c2-9dcb-4e9b-b5c2-123456789abc
                      path: "/api/v1/customers/1"
                    additionalErrors: []
              schema:
                "$ref": "#/components/schemas/ErrorResponse"
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: Jorge Campos
              example:
                name: Jorge Campos
    put:
      summary: Atualiza completamente o cliente
      tags:
      - Customers
      parameters: []
      responses:
        '200':
          description: Cliente atualizado
          content:
            application/json:
              examples:
                example_0:
                  value:
                    id: 1
                    name: Jorge Campos
                    email: jorge.campos@example.com
                    phone: '85977777777'
                    created_at: '2025-12-08T15:10:17.073Z'
                    updated_at: '2025-12-08T15:10:17.073Z'
              schema:
                "$ref": "#/components/schemas/Customer"
        '422':
          description: Atualização inválida
          content:
            application/json:
              examples:
                example_0:
                  value:
                    message: Email can't be blank
                    internalErrorCode: E90
                    errorType: VALIDATION_ERROR
                    requestDetails:
                      occurredAt: '2025-01-01T12:00:00Z'
                      requestId: c8f8c9c2-9dcb-4e9b-b5c2-123456789abc
                      path: "/api/v1/customers/1"
                    additionalErrors: []
              schema:
                "$ref": "#/components/schemas/ErrorResponse"
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: Jorge Campos
                email:
                  type: string
                  example: jorge.campos@example.com
                phone:
                  type: string
                  example: '85977777777'
              example:
                name: Jorge Campos
                email: jorge.campos@example.com
                phone: '85977777777'
    delete:
      summary: Deletar cliente
      tags:
      - Customers
      responses:
        '204':
          description: Cliente deletado
        '404':
          description: Cliente não encontrado
          content:
            application/json:
              examples:
                example_0:
                  value:
                    message: Customer not found
                    internalErrorCode: E11
                    errorType: NOT_FOUND_ERROR
                    requestDetails:
                      occurredAt: '2025-01-01T12:00:00Z'
                      requestId: c8f8c9c2-9dcb-4e9b-b5c2-123456789abc
                      path: "/api/v1/customers/99999"
                    additionalErrors: []
  "/api/v1/order_products":
    post:
      summary: Cria um produto do pedido
      tags:
      - OrderProducts
      parameters: []
      responses:
        '201':
          description: Produto do pedido criado
          content:
            application/json:
              examples:
                example_0:
                  value:
                    id: 3
                    order_id: 1
                    product_id: 1
                    quantity: 2
                    price: '100.0'
                    created_at: '2025-12-08T15:12:20.123Z'
                    updated_at: '2025-12-08T15:12:20.123Z'
              schema:
                "$ref": "#/components/schemas/OrderProduct"
        '422':
          description: Produto do pedido inválido
          content:
            application/json:
              examples:
                example_0:
                  value:
                    message: Quantity must be greater than 0
                    internalErrorCode: E46
                    errorType: VALIDATION_ERROR
                    requestDetails:
                      occurredAt: '2025-01-01T12:00:00Z'
                      requestId: c8f8c9c2-9dcb-4e9b-b5c2-123456789abc
                      path: "/api/v1/order_products"
                    additionalErrors: []
              schema:
                "$ref": "#/components/schemas/ErrorResponse"
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                order_id:
                  type: integer
                  example: 1
                product_id:
                  type: integer
                  example: 1
                quantity:
                  type: integer
                  example: 2
                price:
                  type: number
                  format: float
                  example: 100.0
              required:
              - order_id
              - product_id
              - quantity
              example:
                order_id: 1
                product_id: 1
                quantity: 2
                price: 100
  "/api/v1/order_products/{id}":
    parameters:
    - name: id
      in: path
      description: ID do produto do pedido
      example: 1
      required: true
      schema:
        type: integer
    get:
      summary: Informações do produto do pedido
      tags:
      - OrderProducts
      responses:
        '200':
          description: Produto do pedido encontrado
          content:
            application/json:
              examples:
                example_0:
                  value:
                    id: 3
                    order_id: 1
                    product_id: 1
                    quantity: 2
                    price: '100.0'
                    created_at: '2025-12-08T15:12:20.123Z'
                    updated_at: '2025-12-08T15:12:20.123Z'
              schema:
                "$ref": "#/components/schemas/OrderProduct"
        '404':
          description: Produto do pedido não encontrado
          content:
            application/json:
              examples:
                example_0:
                  value:
                    message: Order Product not found
                    internalErrorCode: E19
                    errorType: NOT_FOUND_ERROR
                    requestDetails:
                      occurredAt: '2025-01-01T12:00:00Z'
                      requestId: c8f8c9c2-9dcb-4e9b-b5c2-123456789abc
                      path: "/api/v1/order_products/99999"
                    additionalErrors: []
              schema:
                "$ref": "#/components/schemas/ErrorResponse"
    patch:
      summary: Atualizar produto do pedido
      tags:
      - OrderProducts
      parameters: []
      responses:
        '200':
          description: Produto do pedido atualizado
          content:
            application/json:
              examples:
                example_0:
                  value:
                    id: 3
                    order_id: 1
                    product_id: 1
                    quantity: 2
                    price: '100.0'
                    created_at: '2025-12-08T15:12:20.123Z'
                    updated_at: '2025-12-08T15:12:20.123Z'
              schema:
                "$ref": "#/components/schemas/OrderProduct"
        '422':
          description: Atualização inválida
          content:
            application/json:
              examples:
                example_0:
                  value:
                    message: Quantity must be greater than 0
                    internalErrorCode: E46
                    errorType: VALIDATION_ERROR
                    requestDetails:
                      occurredAt: '2025-01-01T12:00:00Z'
                      requestId: c8f8c9c2-9dcb-4e9b-b5c2-123456789abc
                      path: "/api/v1/order_products"
                    additionalErrors: []
              schema:
                "$ref": "#/components/schemas/ErrorResponse"
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                quantity:
                  type: integer
                  example: 5
                price:
                  type: number
                  format: float
                  example: 100.0
    delete:
      summary: Deleta o produto do pedido
      tags:
      - OrderProducts
      responses:
        '204':
          description: Produto do pedido deletado
        '404':
          description: Produto do pedido não encontrado
          content:
            application/json:
              examples:
                example_0:
                  value:
                    message: Order Product not found
                    internalErrorCode: E19
                    errorType: NOT_FOUND_ERROR
                    requestDetails:
                      occurredAt: '2025-01-01T12:00:00Z'
                      requestId: c8f8c9c2-9dcb-4e9b-b5c2-123456789abc
                      path: "/api/v1/order_products/99999"
                    additionalErrors: []
  "/api/v1/orders/{id}/products":
    parameters:
    - name: id
      in: path
      description: ID do pedido
      example: 1
      required: true
      schema:
        type: integer
    get:
      summary: Lista produtos do pedido
      tags:
      - OrderProducts
      responses:
        '200':
          description: Produtos encontrados
          content:
            application/json:
              examples:
                example_0:
                  value:
                  - id: 1
                    order_id: 1
                    product_id: 1
                    quantity: 1
                    price: '100.0'
                    created_at: '2025-12-08T15:10:17.073Z'
                    updated_at: '2025-12-08T15:10:17.073Z'
                  - id: 2
                    order_id: 1
                    product_id: 2
                    quantity: 1
                    price: '200.0'
                    created_at: '2025-12-08T15:10:17.073Z'
                    updated_at: '2025-12-08T15:10:17.073Z'
              schema:
                type: array
                items:
                  "$ref": "#/components/schemas/Product"
        '404':
          description: Pedido não encontrado
          content:
            application/json:
              examples:
                example_0:
                  value:
                    message: Order not found
                    internalErrorCode: E42
                    errorType: NOT_FOUND_ERROR
                    requestDetails:
                      occurredAt: '2025-01-01T12:00:00Z'
                      requestId: c8f8c9c2-9dcb-4e9b-b5c2-123456789abc
                      path: "/api/v1/orders/99999/products"
                    additionalErrors: []
              schema:
                "$ref": "#/components/schemas/ErrorResponse"
  "/api/v1/orders":
    get:
      summary: Lista todos os pedidos
      tags:
      - Orders
      responses:
        '200':
          description: Pedidos encontrados
          content:
            application/json:
              examples:
                example_0:
                  value:
                  - id: 1
                    customer_id: 1
                    status: New
                    total_amount: 100.0
                    created_at: '2025-12-08T15:10:17.073Z'
                    updated_at: '2025-12-08T15:10:17.073Z'
                  - id: 2
                    customer_id: 1
                    status: In progress
                    total_amount: 200.0
                    created_at: '2025-12-08T15:12:20.123Z'
                    updated_at: '2025-12-08T15:12:20.123Z'
              schema:
                type: array
                items:
                  "$ref": "#/components/schemas/Order"
    post:
      summary: Cria um pedido
      tags:
      - Orders
      parameters: []
      responses:
        '201':
          description: Pedido criado
          content:
            application/json:
              examples:
                example_0:
                  value:
                    id: 1
                    customer_id: 1
                    status: New
                    total_amount: 100.0
                    created_at: '2025-12-08T15:10:17.073Z'
                    updated_at: '2025-12-08T15:10:17.073Z'
              schema:
                "$ref": "#/components/schemas/Order"
        '422':
          description: Pedido inválido
          content:
            application/json:
              examples:
                example_0:
                  value:
                    message: Customer can't be blank
                    internalErrorCode: E40
                    errorType: VALIDATION_ERROR
                    requestDetails:
                      occurredAt: '2025-01-01T12:00:00Z'
                      requestId: c8f8c9c2-9dcb-4e9b-b5c2-123456789abc
                      path: "/api/v1/orders"
                    additionalErrors: []
              schema:
                "$ref": "#/components/schemas/ErrorResponse"
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                customer_id:
                  type: integer
                  example: 1
                status:
                  type: string
                  enum:
                  - New
                  - In progress
                  - Done
                  example: New
                total_amount:
                  type: number
                  format: float
                  example: 100.0
              required:
              - customer_id
              - status
              - total_amount
              example:
                customer_id: 1
                status: New
                total_amount: 100.0
  "/api/v1/orders/{id}":
    parameters:
    - name: id
      in: path
      description: ID do pedido
      example: 1
      required: true
      schema:
        type: integer
    get:
      summary: Informações do pedido
      tags:
      - Orders
      responses:
        '200':
          description: Pedido encontrado
          content:
            application/json:
              examples:
                example_0:
                  value:
                    id: 1
                    customer_id: 1
                    status: New
                    total_amount: 100.0
                    created_at: '2025-12-08T15:10:17.073Z'
                    updated_at: '2025-12-08T15:10:17.073Z'
              schema:
                "$ref": "#/components/schemas/Order"
        '404':
          description: Pedido não encontrado
          content:
            application/json:
              examples:
                example_0:
                  value:
                    message: Order not found
                    internalErrorCode: E39
                    errorType: NOT_FOUND_ERROR
                    requestDetails:
                      occurredAt: '2025-01-01T12:00:00Z'
                      requestId: c8f8c9c2-9dcb-4e9b-b5c2-123456789abc
                      path: "/api/v1/orders/99999"
                    additionalErrors: []
              schema:
                "$ref": "#/components/schemas/ErrorResponse"
    patch:
      summary: Atualiza um pedido
      tags:
      - Orders
      parameters: []
      responses:
        '200':
          description: Pedido atualizado
          content:
            application/json:
              examples:
                example_0:
                  value:
                    id: 1
                    customer_id: 1
                    status: Done
                    total_amount: 100.0
                    created_at: '2025-12-08T15:10:17.073Z'
                    updated_at: '2025-12-08T15:10:17.073Z'
              schema:
                "$ref": "#/components/schemas/Order"
        '422':
          description: Atualização inválida
          content:
            application/json:
              examples:
                example_0:
                  value:
                    message: Status can't be blank
                    internalErrorCode: E43
                    errorType: VALIDATION_ERROR
                    requestDetails:
                      occurredAt: '2025-01-01T12:00:00Z'
                      requestId: c8f8c9c2-9dcb-4e9b-b5c2-123456789abc
                      path: "/api/v1/orders/99999"
                    additionalErrors: []
              schema:
                "$ref": "#/components/schemas/ErrorResponse"
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                status:
                  type: string
                  enum:
                  - New
                  - In progress
                  - Done
                  example: Done
              example:
                status: Done
    delete:
      summary: Deleta um pedido
      tags:
      - Orders
      responses:
        '204':
          description: Pedido deletado
        '404':
          description: Pedido não encontrado
          content:
            application/json:
              examples:
                example_0:
                  value:
                    message: Order not found
                    internalErrorCode: E39
                    errorType: NOT_FOUND_ERROR
                    requestDetails:
                      occurredAt: '2025-01-01T12:00:00Z'
                      requestId: c8f8c9c2-9dcb-4e9b-b5c2-123456789abc
                      path: "/api/v1/orders/99999"
                    additionalErrors: []
  "/api/v1/customer/{customer_id}/orders":
    parameters:
    - name: customer_id
      in: path
      description: ID do cliente
      example: 1
      required: true
      schema:
        type: integer
    get:
      summary: Lista os pedidos de um cliente
      tags:
      - Orders
      responses:
        '200':
          description: Pedidos encontrados
          content:
            application/json:
              examples:
                example_0:
                  value:
                  - id: 1
                    customer_id: 1
                    status: New
                    total_amount: 100.0
                    created_at: '2025-12-08T15:10:17.073Z'
                    updated_at: '2025-12-08T15:10:17.073Z'
                  - id: 2
                    customer_id: 1
                    status: In progress
                    total_amount: 200.0
                    created_at: '2025-12-08T15:12:20.123Z'
                    updated_at: '2025-12-08T15:12:20.123Z'
              schema:
                type: array
                items:
                  "$ref": "#/components/schemas/Order"
        '404':
          description: Cliente não encontrado
          content:
            application/json:
              examples:
                example_0:
                  value:
                    message: Customer not found
                    internalErrorCode: E42
                    errorType: NOT_FOUND_ERROR
                    requestDetails:
                      occurredAt: '2025-01-01T12:00:00Z'
                      requestId: c8f8c9c2-9dcb-4e9b-b5c2-123456789abc
                      path: "/api/v1/customer/99999/orders"
                    additionalErrors: []
              schema:
                "$ref": "#/components/schemas/ErrorResponse"
  "/api/v1/products":
    get:
      summary: Lista todos os produtos
      tags:
      - Products
      responses:
        '200':
          description: Produtos encontrados
          content:
            application/json:
              examples:
                example_0:
                  value:
                  - id: 1
                    name: Laranja
                    description: Bem docinha
                    price: '10.50'
                    created_at: '2025-12-08T15:10:17.073Z'
                    updated_at: '2025-12-08T15:10:17.073Z'
                  - id: 2
                    name: Banana prata
                    description: Bem madurinha
                    price: '20.00'
                    created_at: '2025-12-08T15:12:20.123Z'
                    updated_at: '2025-12-08T15:12:20.123Z'
              schema:
                type: array
                items:
                  "$ref": "#/components/schemas/Product"
    post:
      summary: Cria um produto
      tags:
      - Products
      parameters: []
      responses:
        '201':
          description: Produto criado
          content:
            application/json:
              examples:
                example_0:
                  value:
                    id: 1
                    name: Laranja
                    description: Bem docinha
                    price: '15.99'
                    created_at: '2025-12-08T15:10:17.073Z'
                    updated_at: '2025-12-08T15:10:17.073Z'
              schema:
                "$ref": "#/components/schemas/Product"
        '422':
          description: Produto inválido
          content:
            application/json:
              examples:
                example_0:
                  value:
                    message: Name can't be blank
                    internalErrorCode: E25
                    errorType: VALIDATION_ERROR
                    requestDetails:
                      occurredAt: '2025-01-01T12:00:00Z'
                      requestId: c8f8c9c2-9dcb-4e9b-b5c2-123456789abc
                      path: "/api/v1/products"
                    additionalErrors: []
              schema:
                "$ref": "#/components/schemas/ErrorResponse"
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                description:
                  type: string
                price:
                  type: number
                  format: float
              required:
              - name
              - price
              example:
                name: Laranja
                description: Bem docinha
                price: 10.0
  "/api/v1/products/{id}":
    parameters:
    - name: id
      in: path
      description: ID do produto
      example: 1
      required: true
      schema:
        type: integer
    get:
      summary: Informações do produto
      tags:
      - Products
      responses:
        '200':
          description: Produto encontrado
          content:
            application/json:
              examples:
                example_0:
                  value:
                    id: 1
                    name: Laranja
                    description: Bem docinha
                    price: '15.99'
                    created_at: '2025-12-08T15:10:17.073Z'
                    updated_at: '2025-12-08T15:10:17.073Z'
              schema:
                "$ref": "#/components/schemas/Product"
        '404':
          description: Produto não encontrado
          content:
            application/json:
              examples:
                example_0:
                  value:
                    message: Product not found
                    internalErrorCode: E71
                    errorType: NOT_FOUND_ERROR
                    requestDetails:
                      occurredAt: '2025-01-01T12:00:00Z'
                      requestId: c8f8c9c2-9dcb-4e9b-b5c2-123456789abc
                      path: "/api/v1/products/99999"
                    additionalErrors: []
              schema:
                "$ref": "#/components/schemas/ErrorResponse"
    patch:
      summary: Atualiza parcialmente um produto
      tags:
      - Products
      parameters: []
      responses:
        '200':
          description: Produto atualizado
          content:
            application/json:
              examples:
                example_0:
                  value:
                    id: 1
                    name: Laranja
                    description: Mais doce ainda
                    price: '5.0'
                    created_at: '2025-12-08T15:10:17.073Z'
                    updated_at: '2025-12-08T15:10:17.073Z'
              schema:
                "$ref": "#/components/schemas/Product"
        '422':
          description: Atualização inválida
          content:
            application/json:
              examples:
                example_0:
                  value:
                    message: Price must be greater than 0
                    internalErrorCode: E27
                    errorType: VALIDATION_ERROR
                    requestDetails:
                      occurredAt: '2025-01-01T12:00:00Z'
                      requestId: c8f8c9c2-9dcb-4e9b-b5c2-123456789abc
                      path: "/api/v1/products/99999"
                    additionalErrors: []
              schema:
                "$ref": "#/components/schemas/ErrorResponse"
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                price:
                  type: number
                  format: float
              example:
                name: Laranja Pera
    put:
      summary: Atualiza completamente um produto
      tags:
      - Products
      parameters: []
      responses:
        '200':
          description: Produto atualizado
          content:
            application/json:
              examples:
                example_0:
                  value:
                    id: 1
                    name: Laranja
                    description: Mais doce ainda
                    price: '5.0'
                    created_at: '2025-12-08T15:10:17.073Z'
                    updated_at: '2025-12-08T15:10:17.073Z'
              schema:
                "$ref": "#/components/schemas/Product"
        '422':
          description: Atualização inválida
          content:
            application/json:
              examples:
                example_0:
                  value:
                    message: Price must be greater than 0
                    internalErrorCode: E83
                    errorType: VALIDATION_ERROR
                    requestDetails:
                      occurredAt: '2025-01-01T12:00:00Z'
                      requestId: c8f8c9c2-9dcb-4e9b-b5c2-123456789abc
                      path: "/api/v1/products/99999"
                    additionalErrors: []
              schema:
                "$ref": "#/components/schemas/ErrorResponse"
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                price:
                  type: number
                  format: float
              example:
                name: Laranja Pera
                description: Mais doce ainda
                price: 5.0
    delete:
      summary: Deleta um produto
      tags:
      - Products
      responses:
        '204':
          description: Produto deletado
        '404':
          description: Produto não encontrado
          content:
            application/json:
              examples:
                example_0:
                  value:
                    message: Product not found
                    internalErrorCode: E23
                    errorType: NOT_FOUND_ERROR
                    requestDetails:
                      occurredAt: '2025-01-01T12:00:00Z'
                      requestId: c8f8c9c2-9dcb-4e9b-b5c2-123456789abc
                      path: "/api/v1/products/99999"
                    additionalErrors: []
components:
  schemas:
    RequestDetails:
      type: object
      properties:
        occurredAt:
          type: string
          format: date-time
          example: '2025-01-01T12:00:00Z'
        requestId:
          type: string
          example: c8f8c9c2-9dcb-4e9b-b5c2-123456789abc
        path:
          type: string
          example: "/api/v1/products/999"
      required:
      - occurredAt
      - requestId
      - path
    ErrorDetails:
      type: object
      properties:
        message:
          type: string
          example: Name can't be blank
        errorType:
          type: string
          example: VALIDATION_ERROR
      required:
      - message
      - errorType
    ErrorResponse:
      type: object
      properties:
        message:
          oneOf:
          - type: string
          - type: array
            items:
              type: string
          example: Record not found
        internalErrorCode:
          type: string
          nullable: true
          example: ERR-001
        errorType:
          type: string
          nullable: true
          example: NOT_FOUND
        requestDetails:
          "$ref": "#/components/schemas/RequestDetails"
        additionalErrors:
          type: array
          items:
            "$ref": "#/components/schemas/ErrorDetails"
      required:
      - message
      - requestDetails
    Product:
      type: object
      properties:
        id:
          type: integer
          example: 1
        name:
          type: string
          example: Keyboard
        description:
          type: string
          nullable: true
          example: Mechanical keyboard
        price:
          type: string
          format: float
          example: '199.90'
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
      required:
      - id
      - name
      - price
    Customer:
      type: object
      properties:
        id:
          type: integer
          example: 1
        name:
          type: string
          example: John Doe
        email:
          type: string
          format: email
          example: john@example.com
        phone:
          type: string
          nullable: true
          example: '999999999'
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
      required:
      - id
      - name
      - email
    Order:
      type: object
      properties:
        id:
          type: integer
          example: 1
        customer_id:
          type: integer
          example: 1
        status:
          type: string
          example: new
        total_amount:
          type: string
          format: float
          example: '250.00'
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
      required:
      - id
      - customer_id
      - status
      - total_amount
    OrderProduct:
      type: object
      properties:
        id:
          type: integer
          example: 1
        order_id:
          type: integer
          example: 1
        product_id:
          type: integer
          example: 1
        quantity:
          type: integer
          example: 2
        price:
          type: string
          format: float
          example: '100.00'
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
      required:
      - id
      - order_id
      - product_id
      - quantity
